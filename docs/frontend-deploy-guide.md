# ğŸš€ Frontend éƒ¨ç½²è„šæœ¬ä½¿ç”¨æŒ‡å—

## ğŸ“¦ åŒ…å«çš„è„šæœ¬

### 1. `deploy-frontend.sh` - äº¤äº’å¼éƒ¨ç½²ï¼ˆæ¨èï¼‰
- âœ… é€æ­¥ç¡®è®¤æ¯ä¸ªæ“ä½œ
- âœ… é€‚åˆé¦–æ¬¡éƒ¨ç½²æˆ–éœ€è¦ç²¾ç»†æ§åˆ¶
- âœ… æœ‰è¯¦ç»†çš„æ—¥å¿—è¾“å‡º

### 2. `quick-deploy.sh` - ä¸€é”®éƒ¨ç½²
- âœ… æ— éœ€ä»»ä½•äº¤äº’
- âœ… é€‚åˆæ—¥å¸¸å¿«é€Ÿæ›´æ–°
- âœ… è‡ªåŠ¨å®Œæˆæ‰€æœ‰æ­¥éª¤

---

## ğŸ› ï¸ å®‰è£…æ­¥éª¤

### 1. ä¸‹è½½è„šæœ¬åˆ°é¡¹ç›®æ ¹ç›®å½•

```bash
# è¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•
cd /path/to/receipt-auto-logger

# ç¡®è®¤å½“å‰ç›®å½•ç»“æ„
ls
# åº”è¯¥çœ‹åˆ°: frontend/  gas/  README.md  ç­‰
```

### 2. ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™

```bash
# æ–¹å¼ 1: ä¸¤ä¸ªè„šæœ¬éƒ½æ·»åŠ 
chmod +x deploy-frontend.sh quick-deploy.sh

# æ–¹å¼ 2: åªæ·»åŠ ä½ éœ€è¦çš„é‚£ä¸ª
chmod +x quick-deploy.sh
```

### 3. éªŒè¯æƒé™

```bash
ls -l *.sh
# åº”è¯¥çœ‹åˆ°: -rwxr-xr-x ... deploy-frontend.sh
```

---

## ğŸ“ ä½¿ç”¨æ–¹æ³•

### åœºæ™¯ 1: é¦–æ¬¡éƒ¨ç½² gh-pagesï¼ˆæ¨èç”¨äº¤äº’å¼ï¼‰

```bash
./deploy-frontend.sh
```

**æµç¨‹**:
1. âœ… æ£€æŸ¥å½“å‰åˆ†æ”¯å’Œæ–‡ä»¶
2. âœ… è¯¢é—®æ˜¯å¦æäº¤æœªä¿å­˜çš„æ›´æ”¹
3. âœ… è¯¢é—®æ˜¯å¦æ¨é€ main åˆ†æ”¯
4. âœ… åˆ‡æ¢åˆ° gh-pagesï¼ˆä¸å­˜åœ¨åˆ™è‡ªåŠ¨åˆ›å»ºï¼‰
5. âœ… æ¸…ç†æ—§æ–‡ä»¶ï¼Œå¤åˆ¶ frontend/
6. âœ… æ˜¾ç¤ºæ–‡ä»¶åˆ—è¡¨ä¾›æ£€æŸ¥
7. âœ… è¯¢é—®æ˜¯å¦æäº¤å¹¶æ¨é€
8. âœ… è¯¢é—®æ˜¯å¦åˆ‡æ¢å›åŸåˆ†æ”¯
9. âœ… æ˜¾ç¤ºè®¿é—®åœ°å€

---

### åœºæ™¯ 2: æ—¥å¸¸æ›´æ–°ï¼ˆæ¨èç”¨ä¸€é”®éƒ¨ç½²ï¼‰

```bash
# 1. ä¿®æ”¹ frontend æ–‡ä»¶
vim frontend/test.html

# 2. æäº¤åˆ° main åˆ†æ”¯
git add frontend/
git commit -m "feat: æ·»åŠ æ–°çš„ JS æ¨¡å—"
git push origin main

# 3. ä¸€é”®éƒ¨ç½²åˆ° gh-pages
./quick-deploy.sh
```

**è¾“å‡ºç¤ºä¾‹**:
```
ğŸš€ å¼€å§‹è‡ªåŠ¨éƒ¨ç½²...
âœ… éƒ¨ç½²æˆåŠŸ!

ğŸŒ è®¿é—®: https://chenyongping.github.io/receipt-auto-logger/
```

---

### åœºæ™¯ 3: åªæƒ³æµ‹è¯•ä¸æ¨é€ï¼ˆç”¨äº¤äº’å¼ï¼‰

```bash
./deploy-frontend.sh

# è¿‡ç¨‹ä¸­é€‰æ‹©:
# - æ˜¯å¦æäº¤? y
# - æ˜¯å¦æ¨é€? n  â† é€‰æ‹© n
# - æ˜¯å¦åˆ‡æ¢å›åŸåˆ†æ”¯? y
```

è¿™æ ·å¯ä»¥åœ¨æœ¬åœ° gh-pages åˆ†æ”¯æŸ¥çœ‹æ•ˆæœï¼Œæ»¡æ„åå†æ‰‹åŠ¨æ¨é€ã€‚

---

## ğŸ”§ å¸¸è§æ“ä½œ

### æ‰‹åŠ¨æ¨é€ï¼ˆå¦‚æœä¹‹å‰é€‰æ‹©äº†ä¸æ¨é€ï¼‰

```bash
git checkout gh-pages
git push origin gh-pages --force
git checkout main
```

---

### æŸ¥çœ‹ gh-pages åˆ†æ”¯å†…å®¹

```bash
# åˆ‡æ¢åˆ° gh-pages
git checkout gh-pages

# æŸ¥çœ‹æ–‡ä»¶
ls -la

# æŸ¥çœ‹æäº¤å†å²
git log --oneline

# åˆ‡æ¢å› main
git checkout main
```

---

### åˆ é™¤ gh-pages åˆ†æ”¯ï¼ˆé‡æ–°å¼€å§‹ï¼‰

```bash
# åˆ é™¤æœ¬åœ°åˆ†æ”¯
git branch -D gh-pages

# åˆ é™¤è¿œç¨‹åˆ†æ”¯
git push origin --delete gh-pages

# é‡æ–°éƒ¨ç½²
./deploy-frontend.sh
```

---

## ğŸ¯ å·¥ä½œæµæ¨è

### å¼€å‘æµç¨‹ï¼ˆæ¯å¤©ï¼‰

```bash
# 1. ä¿®æ”¹å‰ç«¯ä»£ç 
vim frontend/image-handler.js
vim frontend/upload-handler.js

# 2. æœ¬åœ°æµ‹è¯•ï¼ˆå¯é€‰ï¼‰
open frontend/test.html

# 3. æäº¤åˆ° main
git add frontend/
git commit -m "feat: æ·»åŠ å›¾ç‰‡å‹ç¼©åŠŸèƒ½"
git push origin main

# 4. ä¸€é”®éƒ¨ç½²åˆ° gh-pages
./quick-deploy.sh

# âœ… å®Œæˆ! 1-2 åˆ†é’Ÿåæ‰‹æœºè®¿é—®æŸ¥çœ‹æ•ˆæœ
```

---

### é‡å¤§æ›´æ–°æµç¨‹ï¼ˆè°¨æ…ï¼‰

```bash
# 1. ä¿®æ”¹å¤šä¸ªæ–‡ä»¶
vim frontend/*.js

# 2. æœ¬åœ°æµ‹è¯•ç¡®è®¤æ— è¯¯

# 3. æäº¤åˆ° main
git add .
git commit -m "feat: é‡æ„å‰ç«¯æ¶æ„"
git push origin main

# 4. ä½¿ç”¨äº¤äº’å¼éƒ¨ç½²ï¼ˆå¯ä»¥é€æ­¥æ£€æŸ¥ï¼‰
./deploy-frontend.sh

# åœ¨æ¯ä¸€æ­¥ç¡®è®¤æ— è¯¯åå†ç»§ç»­
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: æç¤º "permission denied"

```bash
# åŸå› : è„šæœ¬æ²¡æœ‰æ‰§è¡Œæƒé™
# è§£å†³:
chmod +x deploy-frontend.sh quick-deploy.sh
```

---

### Q2: è„šæœ¬æ‰§è¡Œåˆ°ä¸€åŠæŠ¥é”™

```bash
# åŸå› : set -e ä¼šåœ¨é‡åˆ°é”™è¯¯æ—¶ç«‹å³é€€å‡º
# è§£å†³: æŸ¥çœ‹é”™è¯¯æ¶ˆæ¯ï¼Œæ‰‹åŠ¨ä¿®å¤åé‡æ–°è¿è¡Œ

# å¦‚æœåœç•™åœ¨ gh-pages åˆ†æ”¯:
git checkout main

# æ¸…ç†æœªå®Œæˆçš„æ›´æ”¹:
git checkout gh-pages
git reset --hard
git checkout main
```

---

### Q3: æ¨é€æ—¶æç¤º "rejected"

```bash
# åŸå› : è¿œç¨‹ gh-pages æœ‰å†²çª
# è§£å†³: ä½¿ç”¨ --force å¼ºåˆ¶æ¨é€ï¼ˆè„šæœ¬å·²åŒ…å«ï¼‰

# æˆ–æ‰‹åŠ¨å¤„ç†:
git checkout gh-pages
git pull origin gh-pages --rebase
git push origin gh-pages
```

---

### Q4: éƒ¨ç½²åè®¿é—®è¿˜æ˜¯æ—§ç‰ˆæœ¬

```bash
# åŸå› : GitHub Pages æœ‰ç¼“å­˜ï¼ˆ1-2 åˆ†é’Ÿï¼‰
# è§£å†³: 
# 1. ç­‰å¾… 1-2 åˆ†é’Ÿ
# 2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼ˆCmd+Shift+Rï¼‰
# 3. æ£€æŸ¥éƒ¨ç½²çŠ¶æ€:
# https://github.com/YOUR_USERNAME/receipt-auto-logger/deployments
```

---

### Q5: æƒ³å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬

```bash
# 1. åˆ‡æ¢åˆ° gh-pages
git checkout gh-pages

# 2. æŸ¥çœ‹å†å²
git log --oneline
# ä¾‹å¦‚çœ‹åˆ°:
# abc123 Deploy: 2025-11-02 14:30:00
# def456 Deploy: 2025-11-02 10:00:00  â† æƒ³å›æ»šåˆ°è¿™ä¸ª

# 3. å›æ»š
git reset --hard def456

# 4. å¼ºåˆ¶æ¨é€
git push origin gh-pages --force

# 5. åˆ‡æ¢å› main
git checkout main
```

---

## ğŸ“Š è„šæœ¬å¯¹æ¯”

| ç‰¹æ€§ | deploy-frontend.sh | quick-deploy.sh |
|------|-------------------|-----------------|
| äº¤äº’ç¡®è®¤ | âœ… æ˜¯ | âŒ å¦ |
| æ¨é€ main | å¯é€‰ | âŒ å¦ |
| æ˜¾ç¤ºæ–‡ä»¶åˆ—è¡¨ | âœ… æ˜¯ | âŒ å¦ |
| ä¿ç•™ CNAME | âœ… æ˜¯ | âœ… æ˜¯ |
| é€Ÿåº¦ | è¾ƒæ…¢ï¼ˆéœ€ç¡®è®¤ï¼‰ | å¿«é€Ÿ |
| é€‚åˆåœºæ™¯ | é¦–æ¬¡éƒ¨ç½²ã€é‡å¤§æ›´æ–° | æ—¥å¸¸æ›´æ–° |
| å®‰å…¨æ€§ | é«˜ï¼ˆå¯é€æ­¥æ£€æŸ¥ï¼‰ | ä¸­ï¼ˆå…¨è‡ªåŠ¨ï¼‰ |

---

## ğŸ” å®‰å…¨æç¤º

### âš ï¸ è„šæœ¬ä¼šæ‰§è¡Œçš„æ“ä½œ:

1. åˆ‡æ¢åˆ†æ”¯
2. åˆ é™¤ gh-pages çš„æ‰€æœ‰æ–‡ä»¶
3. å¤åˆ¶ frontend/ æ–‡ä»¶
4. æäº¤å¹¶æ¨é€åˆ° GitHub

### âœ… ä¸ä¼šå½±å“çš„å†…å®¹:

1. main åˆ†æ”¯çš„ä»»ä½•æ–‡ä»¶
2. å…¶ä»–åˆ†æ”¯
3. .git ç›®å½•
4. CNAME æ–‡ä»¶ï¼ˆä¼šè‡ªåŠ¨ä¿ç•™ï¼‰

---

## ğŸ’¡ é«˜çº§æŠ€å·§

### è‡ªåŠ¨åŒ– Commit + Deploy

åˆ›å»ºä¸€ä¸ªç»„åˆè„šæœ¬:

```bash
#!/bin/bash
# æ–‡ä»¶: commit-and-deploy.sh

# 1. æäº¤ main åˆ†æ”¯
git add frontend/
git commit -m "feat: $1"  # ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°ä½œä¸ºæ¶ˆæ¯
git push origin main

# 2. è‡ªåŠ¨éƒ¨ç½²
./quick-deploy.sh

# ä½¿ç”¨æ–¹æ³•:
# ./commit-and-deploy.sh "æ·»åŠ å›¾ç‰‡å‹ç¼©åŠŸèƒ½"
```

---

### æ·»åŠ éƒ¨ç½²å‰çš„è‡ªåŠ¨åŒ–æµ‹è¯•

ä¿®æ”¹ `quick-deploy.sh`,åœ¨éƒ¨ç½²å‰æ·»åŠ :

```bash
# åœ¨ "å¼€å§‹è‡ªåŠ¨éƒ¨ç½²" ä¹‹åæ·»åŠ :

echo "ğŸ§ª è¿è¡Œå‰ç«¯æµ‹è¯•..."
# ä¾‹å¦‚æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
if [ ! -f frontend/test.html ] || [ ! -f frontend/config.js ]; then
    echo "âŒ ç¼ºå°‘å¿…è¦æ–‡ä»¶!"
    exit 1
fi

# æˆ–è¿è¡Œ linter
# eslint frontend/*.js || exit 1
```

---

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜:

1. æŸ¥çœ‹è„šæœ¬è¾“å‡ºçš„é”™è¯¯æ¶ˆæ¯
2. è¿è¡Œ `git status` æ£€æŸ¥å½“å‰çŠ¶æ€
3. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„"å¸¸è§é—®é¢˜"ç« èŠ‚
4. è”ç³»é¡¹ç›®ç»´æŠ¤è€…

---

**æœ€åæ›´æ–°**: 2025-11-02
**è„šæœ¬ç‰ˆæœ¬**: v1.0