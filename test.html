<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📸 收据识别测试</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>📸 收据识别测试</h1>
        
        <div class="input-group">
            <label>Web App URL:</label>
            <input type="text" id="apiUrl" placeholder="https://script.google.com/macros/s/.../exec">
        </div>
        
        <div class="input-group">
            <label>Token:</label>
            <input type="text" id="token" value="test123">
        </div>
        
        <div class="input-group">
            <label>选择收据照片:</label>
            <div class="button-group">
                <button type="button" class="btn-secondary" onclick="ImageHandler.selectFromGallery()">📁 从相册选择</button>
                <button type="button" class="btn-secondary" onclick="ImageHandler.takePhoto()">📸 拍照</button>
            </div>
            <input type="file" id="galleryFile" accept="image/jpeg,image/jpg,image/png" style="display: none;">
            <input type="file" id="cameraFile" accept="image/jpeg,image/jpg,image/png" capture="environment" style="display: none;">
            <div id="imagePreview"></div>
            <p class="hint">⚠️ 仅支持 JPG/PNG 格式（不支持 HEIC）</p>
        </div>
        
        <button class="btn" onclick="UploadHandler.uploadReceipt()" id="uploadBtn" disabled>🚀 开始识别</button>
        
        <div id="result"></div>
    </div>

    <!-- 模块化脚本加载 -->
    <script src="config.js"></script>
    <script src="utils.js"></script>
    <script src="image-handler.js"></script>
    <script src="upload-handler.js"></script>
</body>
</html>